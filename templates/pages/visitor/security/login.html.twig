<!DOCTYPE html>
<html>
    <head>

        {#============ ENCODAGE DES CARACTERES======#}
        <meta charset="UTF-8">

        {#=========Minimum de responsive design======#}
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        {#============ TITRE DE LA PAGE===============#}
        <title>{% block title %}{% endblock %}-Horizon</title>
        
        {# ==============SEO================ #}
        <meta name="robots" content ="index, allow">
        <meta name="description" content ="{% block description %}{% endblock %}">
        <meta name="keywords" content ="{% block keywords %}{% endblock %}">
        
        {#===============FAVICON=============#}
        {# {# <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"> #}
        <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
        <link rel="manifest" href="/site.webmanifest">
        <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
        <meta name="msapplication-TileColor" content="#da532c">
        <meta name="theme-color" content="#ffffff">
        
        {#============ FONT AWESOME=========#}
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        
        {#============ GOGGLE FONT=========#}
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Rampart+One&display=swap" rel="stylesheet">


        {# =========APRES INTALLATION DE WEBPACKENCORE========= #}
        {% block stylesheets %}
            {{ encore_entry_link_tags('app') }}
        {% endblock %}

        {% block javascripts %}
            {{ encore_entry_script_tags('app') }}
        {% endblock %}
    </head>
    <body class="h-100">
    
    {% for flash_error in app.flashes('verify_email_error') %}
        <div class="alert alert-danger" role="alert">{{ flash_error }}</div>
    {% endfor %}

    <main class="container my-5  ">
        <div class="row">
            <div>
            <a class="navbar-brand" href="{{path("visitor_welcome_index")}}"><span class="text-warning display-4">H<i class="fa-regular fa-sun"></i>rizon</span></a>
            </div>
            <div class="col-lg-6  text-center ">
                <img src="./online-shopping-1-18.png" alt="Image description" class="img-fluid">
            </div>
            <div class="col-lg-5 d-flex flex-colum justify-content-center align-items-center ">

                <form method="POST" class="w-100">
                    {% if error %}
                        <div class=" text-center alert alert-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
                    {% endif %}

                        <div class="mb-3 ">
                        <label for="inputEmail">Email</label>
                        <input type="email" value="{{ last_username }}" name="email" id="inputEmail" class="form-control" autocomplete="email" required autofocus>
                        </div>
                        <div class="mb-3">
                        <label for="inputPassword">Mot de passe</label>
                        <div class="input-group">
                            <input type="password" name="password" id="inputPassword" class="form-control" autocomplete="current-password" required>
                            <div class="input-group-append">
                                <button class="btn btn-outline-secondary" type="button" id="togglePassword">
                                    <i class="fas fa-eye-slash" id="toggleIcon"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                        <!-- Inclure jQuery et Font Awesome pour l'icône -->
                        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
                        <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
                        <script>
                            $(document).ready(function(){
                                $("#togglePassword").on("click", function() {
                                    let input = $("#inputPassword");
                                    let icon = $("#toggleIcon");
                                    if (input.attr("type") === "password") {
                                        input.attr("type", "text");
                                        icon.removeClass("fa-eye-slash").addClass("fa-eye");
                                    } else {
                                        input.attr("type", "password");
                                        icon.removeClass("fa-eye").addClass("fa-eye-slash");
                                    }
                                });
                            });
                        </script>

                        <input type="hidden" name="_csrf_token"value="{{ csrf_token('authenticate') }}">

                        <div class="row">
                            <div class="col-md-6 mt-3 ">
                                <label>
                                <input type="checkbox" name="_remember_me" checked> Se souvenir de moi
                                </label>
                            </div>
                            <div class="col-md-6 mt-3 ">
                                <a href="{{path("visitor_security_forgot_password_request")}}"> mot de passe oublié</a>
                        </div>    

                        <div class="my-4 text-center">
                            <input formnovalidate type="submit" class="btn btn-primary shadow w-100" value="Se connecter">
                        </div>
                        <div class="my-3 text-center">
                            <p>Vous n'avez pas de compte ? <a href="{{path('visitor_registration_register')}}"> Inscrivez-vous</a></p>
                            <p><a href="{{path("visitor_welcome_index")}}">Retour à l'accueil</a></p>
                        </div> 
                    </div>
                </form>
                </div>
            </div>
        </main>
    </body>
</html>













